<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Trakaro - Edit Profile</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
    </style>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="trakaro.css" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
    <script src="https://www.gstatic.com/firebasejs/5.1.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.1.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.1.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.1.0/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.1.0/firebase-database.js"></script>
    
    <style>
    .checked {
    color: #70AD46;
    }
    p {
        font-family: Arial;
        font-size: 1.2vw;
    }
</style>
</head>
<body style="overflow-x: hidden;">
<div id="loader" style="position:fixed; padding:0vw; margin:0vw; z-index: 1000; top:0; left:0; width: 100%; height: 100%; background:rgba(0, 0, 0, 0.637)">
        <div class="loader"></div>
    </div>
    <div>
        <nav class="navbar bg-primary" style="z-index: 20; position:fixed; width:100vw; box-shadow: 0px 0px 0px 1px gray;">
            <div class="col-sm-1"></div>
                <div class="container-fluid">
                    <div class="navbar-header" style="margin: 0.5vw; margin-left:-0.1vw">
                        <img class="img-circle" src="img/TrakaroIcon.png" alt="trakaroicon" style="width: 4.7vw;"> 
                        <img src="img/trakaro.png" alt="trakaro" style="position: relative; width: 11.7vw; top: 0.3vw"> 
                    </div>
                </div>
        </nav>
    </div>
    <div class="container-fluid">
  
            <div class="row">
              <div style="background-color:#f2f2f2; height: 100vw; position:fixed; top: 0; width: 25vw;">
                    <div style="height:10vw; margin-top: 9vw;">
                            <img id="prof_pic" style = "margin-left: auto; margin-right: auto; display: block; border-radius: 50%;  box-shadow: 1px 3px 10px grey; background-color:white; height: 11vw; width: 11vw;" src="piclogo1.png">
                            <label class="custom-file-upload">
                            <input type="file" id="pic"/>
                            <img style = "position: fixed; top: 9vw; left: 7vw; border-radius: 100%; opacity: 0.5; background-color:black; height: 11vw; width: 11vw; cursor: pointer" src="changeprofile.png">
                            <p style = "position: fixed; top: 13.5vw; left: 9.3vw; font-size: 1.5vw; cursor: pointer"> 256 x 256 </p>                              
                            </label>
                            <img onclick="removeProfPic()" style = "position: fixed; top: 8.5vw; left: 14.5vw; border-radius: 50%; background-color: none; height: 3.5vw; width: 3.5vw; cursor: pointer;" src="close.png">
                        </div>
                    <div style="position:relative; margin-top: 2vw; margin-bottom: 2vw; padding-left: 1vw; padding-right: 1vw;">            
                            <h3 id="name" class="card-title" align="center"><b>HOTEL NAME</b></h3>
                            <hr>
                            <p align="center" style="margin-top: -1vw;">No Customer and Fylla Rating Yet</p>
                            <br>
                            <div style="position:absolute; margin-left: 1vw;" hidden>
                             <!--   <span style="font-size: 1.5vw;" class="fa fa-star checked"></span> -->
                                <span id="star1" style="font-size: 1.5vw;" class="fa fa-star"></span>
                                <span id="star2" style="font-size: 1.5vw;" class="fa fa-star"></span>
                                <span id="star3" style="font-size: 1.5vw;" class="fa fa-star"></span>
                                <span id="star4" style="font-size: 1.5vw;" class="fa fa-star"></span>
                                <span id="star5" style="font-size: 1.5vw;" class="fa fa-star"></span>
                                <p id="reviews" class="card-text">0 review</p>
                            </div>
                            <div style="margin-left: 12vw; margin-top: -0.5vw;" hidden>
                                    <p id="fylla_rating" align="center" style="font-size:2vw;"><b>No</b></p>
                                    <p align="center" style="margin-top: -1vw;">Rating Yet</p>
                                    <img style=" width: 2.5vw; transform: rotate(15deg); margin-left: 8.5vw; margin-top: -6vw;" src="FYLLA-Icon.png" alt="logo">
                            </div>
<!--
                            <img style="position: relative; top: -1vw; left: 15vw; height: 2.5vw; width: 5vw; cursor: pointer" src="LiveOff.png">
-->
                            <div style="margin-left: 1vw; margin-top: -1vw;">
                            <br>
                            <img style="height: 1.5vw; width: 1.5vw;" src="phone-call.png">
                            <input style="margin-left:4vw; margin-top: -1.5vw; padding: 0.5vw 1vw 0.5vw 1vw" class="round0 font1" type="text" id="contact" name="contact" placeholder="Contact Number">
                            <br><br>
                            <img style="height: 1.5vw; width: 1.5vw;" src="international.png">
                            <input style="margin-left:4vw; margin-top: -1.5vw; padding: 0.5vw 1vw 0.5vw 1vw" class="round0 font1" type="text" id="website" name="link" placeholder="Website Link">
                            <br><br>
                            <img style="height: 1.5vw; width: 1.5vw;" src="maps-and-flags.png">
                            <input style="margin-left:4vw; margin-top: -1.5vw; padding: 0.5vw 1vw 0.5vw 1vw" class="round0 font1" type="text" id="address" name="address" placeholder="Exact Address">
                            <br><br>
                            <img style="height: 1.5vw; width: 1.5vw;" src="clipboard-with-pencil-.png">
                            <input style="margin-left:4vw; margin-top: -1.5vw; padding: 0.5vw 1vw 0.5vw 1vw" class="round0 font1" type="text" id="booking_url" name="url" placeholder="Booking Url">
                            </div>
                        </div>
                
              </div>
              <div style=" height: 100vw; position:absolute; right: 0; top: 0vw; width: 72vw;">
                    <p style="position:absolute; margin-top: 10vw; margin-left: 23vw; z-index: 10; font-size: 5vw; ">1030 x 550</p>
                <img id="cover_pic" style="background-image: url('CoverPhoto.png'); background-size: cover; background-repeat: no-repeat; background-position: center; height:40vw; width:75vw; margin-left: -1.5vw; margin-top: -10vw;">
                    <label class="custom-file-upload">
                        <input type="file" id="cover"/>
                    <div style="position: absolute; top: 6vw; left: 56.5vw; padding: 0.75vw 2vw 0.75vw 2vw; margin:1vw; z-index: 2 !important; font-size:1.1vw;" class="btn-transblack">CHANGE COVER</div>
                    </label>
                  <div onclick="removeCover()" style="position: absolute; top: 10vw; left: 56.5vw; padding: 0.75vw 2vw 0.75vw 2vw; margin:1vw; z-index: 2 !important; font-size:1.1vw;" class="btn-transblack"><b>REMOVE COVER</b></div>                  
                  <div style="position:relative; margin-top: 1vw; margin-bottom: 2vw; margin-left: 2vw; margin-right: 2vw;">
                        <p style="font-size:1.5vw;"><b>HOTEL INFORMATION</b></p>
                        <hr>
                        <div class="container" style="margin: 0vw; margin-bottom: 30vw;">
                                <div class="row">
                            <textarea id="textbox"></textarea>
                                </div>
                            </div>
                        <br><hr>
                        <p style="font-size:1.5vw;"><b>PHOTOS</b></p>

                            <label class="custom-file-upload">
                              <input type="file" id="files" name="files[]" multiple />
                              <img style="opacity: 0.5; position: relative; height: 14vw; width: 21vw; margin: 0.5vw; cursor: pointer; z-index: 2;" src="addpic.png">
                            </label>
                              <output id="list"></output>
                              <p style="font-size:1.5vw;">Old Photos</p>
                            <div id="noPhoto"></div>
                            <div id="oldPics">
                            </div>
                                        
                              <script src="https://www.gstatic.com/firebasejs/5.1.0/firebase-app.js"></script>

                            <script src="https://www.gstatic.com/firebasejs/5.1.0/firebase-auth.js"></script>
                            <script src="https://www.gstatic.com/firebasejs/5.1.0/firebase-firestore.js"></script>
                            <script src="https://www.gstatic.com/firebasejs/5.1.0/firebase-storage.js"></script>

                            <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAoZ9vvwpXnZKRA32JSULALRH1cZrx--IM&libraries=places"
                            async defer></script>

                            <script src="main5.js"></script>

                        <!--<img style="height: 2.5vw; width: 2.5vw; position: absolute; top: 41vw; left:41vw; cursor: pointer" src="close-black.png">

                        <a target="_blank" href="1.jpg">
                                <img style="height: 14vw; width: 21vw; margin: 0.5vw" src="1.jpg">
                        </a>

                        <img style="height: 2.5vw; width: 2.5vw; position: absolute; top: 41vw; left:63.2vw; cursor: pointer" src="close-black.png">

                        <a target="_blank" href="2.jpg"> 
                        <img style="height: 14vw; width: 21vw; margin:0.5vw" src="2.jpg">
                        </a>

                        <img style="height: 2.5vw; width: 2.5vw; position: absolute; top: 56vw; left:18.8vw; cursor: pointer" src="close-black.png">

                        <a target="_blank" href="3.jpg">
                                <img style="height: 14vw; width: 21vw; margin:0.5vw" src="3.jpg">
                        </a>

                        <img style="height: 2.5vw; width: 2.5vw; position: absolute; top: 56vw; left:41vw; cursor: pointer" src="close-black.png">

                        <a target="_blank" href="1.jpg">
                                <img style="height: 14vw; width: 21vw; margin:0.5vw" src="1.jpg">
                        </a>

                        <img style="height: 2.5vw; width: 2.5vw; position: absolute; top: 56vw; left:63.2vw; cursor: pointer" src="close-black.png">

                        <a target="_blank" href="2.jpg"> 
                                <img style="height: 14vw; width: 21vw; margin:0.5vw" src="2.jpg">
                         </a>-->
                         
                      <script>
                      
                          $(document).ready(function(){
                              setTimeout(function(){
                                  initialize();
                              }, 500);
                          });
                          
                          function initialize(){
                                insertSearch("address");
                          }
                          
                          function updateAddress(){
                              if(hotel_data.address == null){
                                  hotel_data.address = "";
                              }
                              if(hotel_data.lat == null){
                                  hotel_data.lat = 0;
                              }
                              if(hotel_data.lng == null){
                                  hotel_data.lng = 0;
                              }
                              defaultFirestore.collection('hotelAccount').doc(email).update({
                                 address: hotel_data.address,
                                 lat: hotel_data.lat,
                                 lng: hotel_data.lng
                              });
                          }
                          
                          function showLoader(){
                            document.getElementById("loader").style.display = "block";   
                          }
                          
                          function insertSearch(id){

                            var input = document.getElementById(id);

                            var autocomplete = new google.maps.places.Autocomplete(input);

                            autocomplete.addListener('place_changed', function() {
                                var place = autocomplete.getPlace();
                                if (!place.geometry) {
                                    // User entered the name of a Place that was not suggested and
                                    // pressed the Enter key, or the Place Details request failed.
                                    window.alert("No details available for input: '" + place.name + "'");
                                    return;
                                }

                                var address = '';
                                if (place.address_components) {

                                    hotel_data.address = place.formatted_address;
                                    hotel_data.lat = place.geometry.location.lat();
                                    hotel_data.lng = place.geometry.location.lng();
                                    
                                    var pl = place.address_components;

                                    pl.forEach(function (arrayItem) {

                                        for(var i=0; i<arrayItem.types.length; i++){
                                          if(arrayItem.types[i] == "administrative_area_level_2"){
                                            hotel_data.province = arrayItem.long_name + ", Philippines";
                                          }
                                        }
                                    });

                                    address = [
                                    (place.address_components[0] && place.address_components[0].short_name || ''),
                                    (place.address_components[1] && place.address_components[1].short_name || ''),
                                    (place.address_components[2] && place.address_components[2].short_name || '')
                                    ].join(' ');
                                } else {
                                    console.log("None");
                                }
                            });
                        }
                      
                      </script>
                      
                         <div style="clear:both; margin-left: 38.7vw; margin-top: 10vw">
                                <button type="button" class="btn btn-success bg-tertiarygreen text-green font2" style="float:left; border-radius: 2vw; padding: 0.4vw 4vw 0.4vw 4vw; margin-right: 1.4vw;" onclick="discard()">Discard</button>
                                <button type="button" class="btn btn-warning bg-secondary2 text-white font2" style="border-radius: 2vw; padding: 0.4vw 5vw 0.4vw 5vw" onclick="save()">Save</button>
                        </div>                     

                    </div> 
            </div>
        </div>
    </div>
</body>
<script>
        if(sessionStorage.getItem('email') == null || sessionStorage.getItem('email') == undefined){
            alert('Please login to continue');
            location.href="hotel-index.html";
        }
</script>
</html>
