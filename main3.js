var _0x2253=['hotelAccount','doc','set','accounts','verification','hotel','liveTable','signInWithEmailAndPassword','setItem','href','prof.html','Failed\x20user\x20sign\x20up','code','message','loginemail','get','exists','data','user_type','user','Coming\x20Soon:\x20Please\x20access\x20the\x20platform\x20through\x20the\x20app.','profile2.html','catch','Wrong\x20Email/Password','AIzaSyDdjSnZXerTyTOi7g3910IalzfxARpJXu0','trakarotwo.firebaseapp.com','https://trakarotwo.firebaseio.com','trakarotwo','trakarotwo.appspot.com','1004981268613','name','storage','firestore','settings','getElementById','establishmentname','email','value','contact','password','confirmpassword','hotelActive','classList','contains','greenactive','restaurantActive','orangeactive','auth','then','collection'];(function(_0x37a029,_0x583e47){var _0x1b965b=function(_0x5efd6e){while(--_0x5efd6e){_0x37a029['push'](_0x37a029['shift']());}};_0x1b965b(++_0x583e47);}(_0x2253,0x7c));var _0x3184=function(_0x43c282,_0x254350){_0x43c282=_0x43c282-0x0;var _0x5569a4=_0x2253[_0x43c282];return _0x5569a4;};var config={'apiKey':_0x3184('0x0'),'authDomain':_0x3184('0x1'),'databaseURL':_0x3184('0x2'),'projectId':_0x3184('0x3'),'storageBucket':_0x3184('0x4'),'messagingSenderId':_0x3184('0x5')};var defaultApp=firebase['initializeApp'](config);console['log'](defaultApp[_0x3184('0x6')]);var defaultStorage=defaultApp[_0x3184('0x7')]();var defaultFirestore=defaultApp['firestore']();const firestore=firebase[_0x3184('0x8')]();const settings={'timestampsInSnapshots':!![]};firestore[_0x3184('0x9')](settings);function signup(){var _0x3cd384=document[_0x3184('0xa')](_0x3184('0xb'))['value'];var _0x7e888 = document[_0x3184('0xa')](_0x3184('0xc'))[_0x3184('0xd')].toLowerCase();var _0x19e238=document[_0x3184('0xa')](_0x3184('0xe'))[_0x3184('0xd')];var _0x276053=document[_0x3184('0xa')](_0x3184('0xf'))[_0x3184('0xd')];var _0xcdc4c9=document[_0x3184('0xa')](_0x3184('0x10'))[_0x3184('0xd')];if(document['getElementById'](_0x3184('0x11'))[_0x3184('0x12')][_0x3184('0x13')](_0x3184('0x14'))){var _0x90c942='hotel';}else if(document[_0x3184('0xa')](_0x3184('0x15'))[_0x3184('0x12')][_0x3184('0x13')](_0x3184('0x16'))){var _0x90c942='restaurant';} else {var _0x90c942 = 'attraction';}if(_0x276053!=_0xcdc4c9){alert('Password\x20Doesn\x27t\x20Match');}else{firebase[_0x3184('0x17')]()['createUserWithEmailAndPassword'](_0x7e888,_0x276053)[_0x3184('0x18')](function(){saveGallery();defaultFirestore[_0x3184('0x19')](_0x3184('0x1a'))[_0x3184('0x1b')](_0x7e888)[_0x3184('0x1c')]({'name':_0x3cd384,'email':_0x7e888,'contact':_0x19e238,'booking_url':'','website':'','fylla_rating':0x0,'rating':0x0,'info':'','city':'','country':'','province':'','address':'','cover_url':'','logo_url':'','user_type':_0x90c942})[_0x3184('0x18')](function(){defaultFirestore['collection'](_0x3184('0x1d'))[_0x3184('0x1b')](_0x7e888)[_0x3184('0x1c')]({'name':_0x3cd384,'status':_0x3184('0x1e'),'user_type':_0x3184('0x1f')})[_0x3184('0x18')](function(){defaultFirestore[_0x3184('0x19')](_0x3184('0x20'))[_0x3184('0x1b')](_0x7e888)[_0x3184('0x1c')]({'email':![],'contact':![],'booking_url':![],'website':![],'fylla_rating':![],'address':![],'info':![]})[_0x3184('0x18')](function(){firebase['auth']()[_0x3184('0x21')](_0x7e888,_0x276053)[_0x3184('0x18')](function(){alert('Successfully\x20signed\x20up');sessionStorage[_0x3184('0x22')](_0x3184('0xc'),_0x7e888);location[_0x3184('0x23')]=_0x3184('0x24');});});});})['catch'](function(_0x7ac5c9){alert(_0x3184('0x25'));});},function(_0x7c33ea){var _0x215f66=_0x7c33ea[_0x3184('0x26')];var _0x3c346f=_0x7c33ea[_0x3184('0x27')];alert(_0x3c346f);});}}function login(){var _0x293e62=document['getElementById'](_0x3184('0x28'))[_0x3184('0xd')];var _0x14070f=document[_0x3184('0xa')]('loginpassword')[_0x3184('0xd')];firebase[_0x3184('0x17')]()[_0x3184('0x21')](_0x293e62,_0x14070f)[_0x3184('0x18')](function(){var _0x16cef6=defaultFirestore[_0x3184('0x19')](_0x3184('0x1d'))['doc'](_0x293e62);_0x16cef6[_0x3184('0x29')]()[_0x3184('0x18')](function(_0x237769){if(_0x237769[_0x3184('0x2a')]){if(_0x237769[_0x3184('0x2b')]()[_0x3184('0x2c')]==_0x3184('0x2d')){alert(_0x3184('0x2e'));}else{var _0x4e8fb8=defaultFirestore[_0x3184('0x19')](_0x3184('0x1a'))['doc'](_0x293e62);_0x4e8fb8[_0x3184('0x29')]()[_0x3184('0x18')](function(_0x3f68d2){if(_0x3f68d2[_0x3184('0x2a')]){sessionStorage['setItem'](_0x3184('0xc'),_0x3f68d2[_0x3184('0x2b')]()[_0x3184('0xc')]);location[_0x3184('0x23')]=_0x3184('0x2f');}})['catch'](function(_0x4ea4f9){alert('Wrong\x20Email/Password');});}}else{alert('Account\x20details\x20not\x20found!');}})[_0x3184('0x30')](function(_0x309966){alert(_0x3184('0x31'));});})[_0x3184('0x30')](function(_0x4bd87e){alert(_0x3184('0x31'));});}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvdXJjZU1hcCJdLCJuYW1lcyI6WyJjb25maWciLCJkZWZhdWx0QXBwIiwiZmlyZWJhc2UiLCJjb25zb2xlIiwiZGVmYXVsdFN0b3JhZ2UiLCJkZWZhdWx0RmlyZXN0b3JlIiwiZmlyZXN0b3JlIiwic2V0dGluZ3MiLCJzaWdudXAiLCJfMHgzY2QzODQiLCJkb2N1bWVudCIsIl8weDdlODg4IiwiXzB4MTllMjM4IiwiXzB4Mjc2MDUzIiwiXzB4Y2RjNGM5IiwiXzB4OTBjOTQyIiwiYWxlcnQiLCJzZXNzaW9uU3RvcmFnZSIsImxvY2F0aW9uIiwiXzB4N2FjNWM5IiwiXzB4N2MzM2VhIiwiXzB4MjE1ZjY2IiwiXzB4M2MzNDZmIiwibG9naW4iLCJfMHgyOTNlNjIiLCJfMHgxNDA3MGYiLCJfMHgxNmNlZjYiLCJfMHgyMzc3NjkiLCJfMHg0ZThmYjgiLCJfMHgzZjY4ZDIiLCJfMHg0ZWE0ZjkiLCJfMHgzMDk5NjYiLCJfMHg0YmQ4N2UiXSwibWFwcGluZ3MiOiI4aUNBQUEsSUFBSUEsTUFBQSxDQUFTLEMsUUFDRCxDLGNBREMsQyxZQUVELEMsY0FGQyxDLGFBR0QsQyxjQUhDLEMsV0FJRCxDLGNBSkMsQyxlQUtELEMsY0FMQyxDLG1CQU1ELEMsY0FOQyxDQUFiLENBU1EsSUFBSUMsVUFBQSxDQUFhQyxRQUFBLEMsZUFBQSxFQUF1QkYsTUFBdkIsQ0FBakIsQ0FFQUcsT0FBQSxDLEtBQUEsRUFBWUYsVUFBQSxDLGNBQUEsQ0FBWixFQUNBLElBQUlHLGNBQUEsQ0FBaUJILFVBQUEsQyxjQUFBLEdBQXJCLENBQ0EsSUFBSUksZ0JBQUEsQ0FBbUJKLFVBQUEsQyxXQUFBLEdBQXZCLENBQ0EsTUFBTUssU0FBQSxDQUFZSixRQUFBLEMsY0FBQSxHQUFsQixDQUNBLE1BQU1LLFFBQUEsQ0FBVyxDLHVCQUFDLEMsSUFBRCxDQUFqQixDQUNBRCxTQUFBLEMsY0FBQSxFQUFtQkMsUUFBbkIsRUFFQSxTQUFTQyxNQUFULEVBQWlCLENBQ1QsSUFBSUMsU0FBQSxDQUFvQkMs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Q0FDQVIsUUFBQSxDLGVBQUEsSSxlQUFBLEVBQTJDc0IsU0FBM0MsQ0FBdURDLFNBQXZELEUsZUFBQSxFQUEyRSxVQUFVLENBRTdFLElBQUlDLFNBQUEsQ0FBTXJCLGdCQUFBLEMsZUFBQSxFLGVBQUEsRSxLQUFBLEVBQTRDbUIsU0FBNUMsQ0FBVixDQUNBRSxTQUFBLEMsZUFBQSxJLGVBQUEsRUFBZSxTQUFTQyxTQUFULENBQWUsQ0FDdEIsR0FBSUEsU0FBQSxDLGVBQUEsQ0FBSixDQUFpQixDQUNULEdBQUdBLFNBQUEsQyxlQUFBLEksZUFBQSxHLGVBQUgsQ0FBbUMsQ0FDM0JYLEtBQUEsQyxlQUFBLEVBRDJCLENBQW5DLElBRU8sQ0FDQyxJQUFJWSxTQUFBLENBQVN2QixnQkFBQSxDLGVBQUEsRSxlQUFBLEUsS0FBQSxFQUFnRG1CLFNBQWhELENBQWIsQ0FDQUksU0FBQSxDLGVBQUEsSSxlQUFBLEVBQWtCLFNBQVNDLFNBQVQsQ0FBZ0IsQ0FDMUIsR0FBSUEsU0FBQSxDLGVBQUEsQ0FBSixDQUFrQixDQUNWWixjQUFBLEMsU0FBQSxFLGNBQUEsQ0FBZ0NZLFNBQUEsQyxlQUFBLEksY0FBQSxDQUFoQyxFQUNBWCxRQUFBLEMsZUFBQSxFLGVBQUEsQ0FGVSxDQURRLENBQWxDLEUsT0FBQSxFQUtTLFNBQVNZLFNBQVQsQ0FBZ0IsQ0FDakJkLEtBQUEsQyx5QkFBQSxFQURpQixDQUx6QixFQUZELENBSEUsQ0FBakIsSUFjTyxDQUNDQSxLQUFBLEMscUNBQUEsRUFERCxDQWZlLENBQTlCLEUsZUFBQSxFQWtCUyxTQUFTZSxTQUFULENBQWdCLENBQ2pCZixLQUFBLEMsZUFBQSxFQURpQixDQWxCekIsRUFINkUsQ0FBckYsRSxlQUFBLEVBd0JTLFNBQVNnQixTQUFULENBQWdCLENBQ2pCaEIsS0FBQSxDLGVBQUEsRUFEaUIsQ0F4QnpCLEVBSFEiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY29uZmlnID0ge1xuICAgICAgICAgICAgYXBpS2V5OiBcIkFJemFTeURkalNuWlhlclR5VE9pN2czOTEwSWFsemZ4QVJwSlh1MFwiLFxuICAgICAgICAgICAgYXV0aERvbWFpbjogXCJ0cmFrYXJvdHdvLmZpcmViYXNlYXBwLmNvbVwiLFxuICAgICAgICAgICAgZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly90cmFrYXJvdHdvLmZpcmViYXNlaW8uY29tXCIsXG4gICAgICAgICAgICBwcm9qZWN0SWQ6IFwidHJha2Fyb3R3b1wiLFxuICAgICAgICAgICAgc3RvcmFnZUJ1Y2tldDogXCJ0cmFrYXJvdHdvLmFwcHNwb3QuY29tXCIsXG4gICAgICAgICAgICBtZXNzYWdpbmdTZW5kZXJJZDogXCIxMDA0OTgxMjY4NjEzXCJcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZGVmYXVsdEFwcCA9IGZpcmViYXNlLmluaXRpYWxpemVBcHAoY29uZmlnKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhkZWZhdWx0QXBwLm5hbWUpO1xuICAgICAgICB2YXIgZGVmYXVsdFN0b3JhZ2UgPSBkZWZhdWx0QXBwLnN0b3JhZ2UoKTtcbiAgICAgICAgdmFyIGRlZmF1bHRGaXJlc3RvcmUgPSBkZWZhdWx0QXBwLmZpcmVzdG9yZSgpO1xuICAgICAgICBjb25zdCBmaXJlc3RvcmUgPSBmaXJlYmFzZS5maXJlc3RvcmUoKTtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB7dGltZXN0YW1wc0luU25hcHNob3RzOiB0cnVlfTtcbiAgICAgICAgZmlyZXN0b3JlLnNldHRpbmdzKHNldHRpbmdzKTtcblxuICAgICAgICBmdW5jdGlvbiBzaWdudXAoKXtcbiAgICAgICAgICAgICAgICB2YXIgZXN0YWJsaXNobWVudG5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVzdGFibGlzaG1lbnRuYW1lXCIpLnZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBlbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW1haWxcIikudmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhY3RcIikudmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIHBhc3N3b3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXNzd29yZFwiKS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgY29uZmlybXBhc3N3b3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25maXJtcGFzc3dvcmRcIikudmFsdWU7XG5cbiAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhvdGVsQWN0aXZlXCIpLmNsYXNzTGlzdC5jb250YWlucygnZ3JlZW5hY3RpdmUnKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNlcl90eXBlID0gXCJob3RlbFwiO1xuICAgICAgICAgICAgICAgIH1lbHNlIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzdGF1cmFudEFjdGl2ZVwiKS5jbGFzc0xpc3QuY29udGFpbnMoJ29yYW5nZWFjdGl2ZScpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VyX3R5cGUgPSBcInJlc3RhdXJhbnRcIjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZihwYXNzd29yZCAhPSBjb25maXJtcGFzc3dvcmQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJQYXNzd29yZCBEb2Vzbid0IE1hdGNoXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2UuYXV0aCgpLmNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRGaXJlc3RvcmUuY29sbGVjdGlvbihcImhvdGVsQWNjb3VudFwiKS5kb2MoZW1haWwpLnNldCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGVzdGFibGlzaG1lbnRuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3Q6IGNvbnRhY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2tpbmdfdXJsOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWJzaXRlOiBcIlwiLCAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ5bGxhX3JhdGluZzogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvOiBcIlwiLCAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdHk6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50cnk6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpbmNlOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3Zlcl91cmw6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ29fdXJsOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyX3R5cGU6IHVzZXJfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0RmlyZXN0b3JlLmNvbGxlY3Rpb24oXCJhY2NvdW50c1wiKS5kb2MoZW1haWwpLnNldCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGVzdGFibGlzaG1lbnRuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwidmVyaWZpY2F0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJfdHlwZTogXCJob3RlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0RmlyZXN0b3JlLmNvbGxlY3Rpb24oXCJsaXZlVGFibGVcIikuZG9jKGVtYWlsKS5zZXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdDogZmFsc2UsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9va2luZ191cmw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2Vic2l0ZTogZmFsc2UsICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ5bGxhX3JhdGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm86IGZhbHNlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiU3VjY2Vzc2Z1bGx5IHNpZ25lZCB1cFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJlbWFpbFwiLCBlbWFpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gJ3Byb2YuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJGYWlsZWQgdXNlciBzaWduIHVwXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBFcnJvcnMgaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvckNvZGUgPSBlcnJvci5jb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbG9naW4oKXtcbiAgICAgICAgICAgICAgICB2YXIgbG9naW5lbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9naW5lbWFpbFwiKS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgbG9naW5wYXNzd29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9naW5wYXNzd29yZFwiKS52YWx1ZTtcbiAgICAgICAgICAgICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQobG9naW5lbWFpbCwgbG9naW5wYXNzd29yZCkudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvYyA9IGRlZmF1bHRGaXJlc3RvcmUuY29sbGVjdGlvbihcImFjY291bnRzXCIpLmRvYyhsb2dpbmVtYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5nZXQoKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhKCkudXNlcl90eXBlID09IFwidXNlclwiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiQ29taW5nIFNvb246IFBsZWFzZSBhY2Nlc3MgdGhlIHBsYXRmb3JtIHRocm91Z2ggdGhlIGFwcC5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb2NSZWYgPSBkZWZhdWx0RmlyZXN0b3JlLmNvbGxlY3Rpb24oXCJob3RlbEFjY291bnRcIikuZG9jKGxvZ2luZW1haWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jUmVmLmdldCgpLnRoZW4oZnVuY3Rpb24oZGF0YTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGExLmV4aXN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJlbWFpbFwiLCBkYXRhMS5kYXRhKCkuZW1haWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWY9XCJwcm9maWxlMi5odG1sXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiV3JvbmcgRW1haWwvUGFzc3dvcmRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJBY2NvdW50IGRldGFpbHMgbm90IGZvdW5kIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJXcm9uZyBFbWFpbC9QYXNzd29yZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIldyb25nIEVtYWlsL1Bhc3N3b3JkXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9Il19
